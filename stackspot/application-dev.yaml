apiVersion: platform.cloud.stackspot.com/v1alpha2
kind: ApplicationDeployment
metadata:
  version: 1.0.0
  name: app-demo-gui-6
spec:
  applicationId: 01JQA7AYKT86J6NFB1A6AF7GUI
  runtimeId: 01JRBNTDAT318ENRE59SWDBRRV
  deployTemplate: "default_stackspot_application_chart:0.1.1"
  deployTemplateValues:
    image:
      repository: "185072717495.dkr.ecr.sa-east-1.amazonaws.com/cloud-apps-demo"
      tag: latest
    autoscaling:
      enabled: true
      minReplicas: 1
      maxReplicas: 2
      targetCPUUtilizationPercentage: 80  
    service:
      port: 80
      type: ClusterIP
    livenessProbe:
      httpGet:
        path: /healthz
        port: 8080
    readinessProbe:
      httpGet:
        path: /healthz
        port: 8080
    startupProbe:
      httpGet:
        path: /healthz
        port: 8080
      initialDelaySeconds: 10
      periodSeconds: 5
    resources:
      limits:
        cpu: 1000m
        memory: 2048Mi
      requests:
        cpu: 100m
        memory: 1024Mi
    env:
      - name: ENV_NAME
        value: "ENV_VALUE"